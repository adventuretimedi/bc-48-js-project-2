{"mappings":"gfAAAA,EAAA,S,WCAAA,EAAA,S,yDAOA,WAII,IAHA,IAAMC,EAAUC,SAASC,cAAc,mBACjCC,EAASF,SAASC,cAAc,oBAChCE,EAAa,GACVC,EAAE,GAAIA,EAAE,GAAIA,IACrBD,EAAWE,KAAKC,OAAOC,aAAaH,IAGxC,IAAK,IAAII,EAAE,GAAIA,EAAE,GAAIA,IACjBL,EAAWE,KAAKC,OAAOC,aAAaC,IAGxCL,EAAWE,KAAKC,OAAOC,aAAa,KAKpC,IAFA,IAAIE,EAAM,GAEDC,EAAE,EAAEA,EAAEP,EAAWQ,OAAOD,IAAI,CAC9B,GAAHA,GAAU,IAAHA,GAAY,IAAHA,IAAOD,GAAO,QAC3B,IAAHC,IACAD,GAAQ,iCAEZA,GAAO,uCAAyDG,OAAlBT,EAAWO,GAAG,MAAkBE,OAAdT,EAAWO,GAAG,SACvE,IAAHA,GAAY,IAAHA,GAAY,IAAHA,IAAOD,GAAO,SAEpC,IACAP,EAAOW,mBAAmB,YAAY,4CAA8DD,OAAlBT,EAAWO,GAAG,MAAkBE,OAAdT,EAAWO,GAAG,a,CAElH,MAAAI,G,EAOIf,IACAA,EAAQgB,UAAYN,EACpBV,EAAQiB,iBAAiB,SAAQ,SAACC,GAEqB,OAAhDjB,SAASC,cAAc,wBAC1BD,SAASC,cAAc,uBAAuBiB,UAAUC,OAAO,sBAC/DF,EAAGG,OAAOF,UAAUG,IAAI,sBACxBC,EAAYL,EAAGG,OAAOG,QAAe,M,KAI7C,IACArB,EAAOc,iBAAiB,UAAS,SAACC,G,OAAKK,EAAYL,EAAGG,OAAc,M,IAEpE,MAAAN,G,CAIA,SAASQ,EAAYL,GACjB,IAAMO,EAASP,EAAGQ,cAEZC,EAAiB,IAAI,EAAAC,EAAAC,gBACL5B,SAASC,cAAc,kBAI7CyB,EAAeG,4BAA4BL,GAAQM,MAAK,SAAAC,GAC3CA,EAAIC,KAAKC,QAEd,EAAAC,EAAAC,kBAAiBJ,EAAIC,K,KAiBlBI,G,ICxFfC,EAAAvC,EAAA,S,oDAiBA,IARA,IAAMwC,EAAgBtC,SAASC,cAAc,kBACvCsC,EAAevC,SAASC,cAAc,iCAEtCuC,EAAmB,WAEnBC,EAAiB,IAAI,EAAAd,EAAAC,gBACrBc,EAAM,GAEHC,EAAQ,EAAGA,EAAQ,EAAGA,IAAS,CACtC,IAAMC,EAAcH,EAAeI,uBAAuBf,MAAK,SAAAE,GAC7D,OAAKA,GACI,IAAIc,O,IAIXF,GACFF,EAAIrC,KAAKuC,E,CAIbE,QAAQC,IAAIL,GAAKZ,MAAK,SAAAkB,GACpB,IAAMf,EAASe,EAAOC,SAAQ,SAAAC,G,OAAQA,EAAKlB,KAAKC,M,IAC1CkB,EAAUlB,EAAOmB,KAAI,SAAAC,G,OAASA,EAAMF,O,IAG1C,GAFAG,QAAQC,IAAIJ,GAERK,OAAOC,YAAc,KACvBlB,EAAaxB,UAAc,6CAC3BuB,EAAczB,mBAAmB,aAAa,EAAAwB,EAAAqB,eAAczB,SACvD,GAAIuB,OAAOC,WAAa,IAAK,CAClC,IAAME,EAAe1B,EAAO2B,MAAM,EAAG,GACrCrB,EAAaxB,UAAc,6CAC3BuB,EAAczB,mBAAmB,aAAa,EAAAwB,EAAAqB,eAAcC,G,KACvD,CACL,IAAME,EAAe5B,EAAO2B,MAAM,EAAG,GACrCrB,EAAaxB,UAAc,6CAC3BuB,EAAczB,mBAAmB,aAAa,EAAAwB,EAAAqB,eAAcG,G,EAE9D,EAAAxB,EAAAyB,qBAAoB7B,GAGHjC,SAAS+D,iBAAiB,iCAA3C,IACMC,EAAUhE,SAAS+D,iBAAiB,+BAmE1C,SAAuBE,GACvB,IAAMC,EAAQC,EAAAC,eAAeC,SAAS7B,GACtCc,QAAQC,IAAIW,GACZ,IAAMI,EAAQJ,EAAMK,MAAK,SAAAC,G,OAAOA,EAAIrB,UAAYc,C,IAE3CQ,GAAS,EAATC,GAAS,EAATC,OAASC,E,IAAd,I,IAAKC,E,gBAAA,IAAMC,EAANC,EAASC,MACPC,GAAQ,EAARC,GAAQ,EAARC,OAAQP,E,IAAb,I,IAAKQ,E,gBAAA,IAAMC,EAANC,EAAQN,MACPF,EAAI3B,UAAYkC,GAElBrB,EAAQuB,SAAQ,SAAAC,GACVA,EAAGC,cAAcC,OAASL,IAC5BG,EAAGG,MAAMC,KAAQ,UACjBJ,EAAGK,uBAAuBC,YAAc,SACxCxC,QAAQC,IAAI,sB,KAPfwC,EAAY5C,EAAO6C,OAAAC,cAAnBhB,GAAAG,EAAAW,EAAQG,QAAAC,MAARlB,GAAQ,EAAAmB,EAAAL,EAAAX,E,UAARF,GAAQ,EAARC,EAAQkB,C,aAARpB,GAAQ,MAARc,EAAQO,QAARP,EAAQO,Q,YAARpB,E,MAAAC,C,IADFoB,EAAarC,EAAK8B,OAAAC,cAAlBxB,GAAAI,EAAA0B,EAASL,QAAAC,MAAT1B,GAAS,EAAA+B,EAAAD,EAAA1B,E,UAATH,GAAS,EAATC,EAAS0B,C,aAAT5B,GAAS,MAAT8B,EAASD,QAATC,EAASD,Q,YAAT5B,E,MAAAC,C,GAtEL8B,CAActD,GA0Fdb,EAActB,iBAAiB,SAxFb,SAAA0F,G,IAAGtF,EAAMsF,EAANtF,OACnB,GACGA,EAAOF,UAAUyF,SAAS,iCAC1BvF,EAAOF,UAAUyF,SAAS,8BAC1BvF,EAAOF,UAAUyF,SAAS,4BAH7B,CAQA,IAAMC,EAAQxF,EAAOyF,QAAQ,iCAAiCnB,KACxDoB,EAAW7E,EAAOsC,MAAK,SAAAiB,G,OAAMA,EAAGrC,UAAYyD,C,IAGoC,WAAlFxF,EAAOyF,QAAQ,iCAAiCE,kBAAkBjB,aACnE1E,EAAOyF,QAAQ,iCAAiCE,kBAAkBjB,YAAc,SACjF1E,EAAOyF,QAAQ,iCAAiCG,iBAAiBrB,MAAMC,KAAO,UAC9EzB,EAAAC,eAAe6C,SAASzE,EAAkBsE,KAE1C1F,EAAOyF,QAAQ,iCAAiCE,kBAAkBjB,YAAc,SAChF1E,EAAOyF,QAAQ,iCAAiCG,iBAAiBrB,MAAMC,KAAO,0BAC9EzB,EAAAC,eAAe8C,YAAY1E,EAAkBsE,GAd7C,C","sources":["src/js/index.js","src/js/hero.js","src/js/gallery.js"],"sourcesContent":["'use strict';\nimport { localFavorites } from './localfavorites';\nimport { header } from './header';\nimport { hero } from './hero';\nimport { gallery } from './gallery'\nimport { modalcocktails } from './modalcocktails';\nimport { modalingredients } from './modalingredients';\nimport { renderPagination } from './pagination-show'\n\n\n\n\n\n","'use strict';\nimport { galleryMarkUp } from './markup';\nimport { FetchCocktails } from './fetch';\nimport { showCocktailDetails } from './modalcocktails';\nimport {renderPagination} from './pagination-show';\nimport {localFavorites} from './localfavorites';\n\nfunction hero(){\n    const tableTd = document.querySelector('.contain__table');\n    const select = document.querySelector('.contain__select');\n    const charsItems = [];                  // contsiner all chars\n    for (let i=65; i<91; i++){              // letters\n    charsItems.push(String.fromCharCode(i))\n}\n\nfor (let i=49; i<58; i++){                  // numbers 1-9\n    charsItems.push(String.fromCharCode(i))\n}\n\ncharsItems.push(String.fromCharCode(48))    // number 0\n// console.log(charsItems)\n\nlet sum = '';\n\nfor (let j=0;j<charsItems.length;j++){\nif (j==0|| j==13 || j==26) sum +=`<tr>`;\nif (j==26) {\n    sum += `<td class=\"table__item\"></td>`;\n}\nsum += `<td class=\"table__item\" data-value=\"${charsItems[j]}\">${charsItems[j]}</td>`;\nif (j==12 || j==25 || j==38) sum +=`</tr>`;\n\ntry{\nselect.insertAdjacentHTML('beforeend',`<option class=\"select__item\" data-value=\"${charsItems[j]}\">${charsItems[j]}</option>`)\n}\ncatch{\n    // console.log(\"not main page\");\n}\n\n\n\n}\nif (tableTd) {\n    tableTd.innerHTML = sum;\n    tableTd.addEventListener('click',(ev)=>{\n\n        if(document.querySelector('.table__item--activ')!==null) {\n        document.querySelector('.table__item--activ').classList.remove('table__item--activ')}\n        ev.target.classList.add('table__item--activ');\n        sendRequest(ev.target.dataset['value']);\n    });\n};\n\ntry{\nselect.addEventListener('change',(ev)=>sendRequest(ev.target['value']));\n}\ncatch{\n    // console.log('not main page')\n}\n\nfunction sendRequest(ev){\n    const letter = ev.toLowerCase();\n\n    const fetchCocktails = new FetchCocktails();\n    const galleryListEl = document.querySelector('.gallery__list');\n\n\n    let drinks = [];\n    fetchCocktails.fetchCocktailsByFirstLetter(letter).then(res => {\n        drinks = res.data.drinks;\n        // if (res.data.drinks) {\n            renderPagination(res.data);\n        //   galleryListEl.innerHTML = galleryMarkUp(drinks);\n        //   document.querySelectorAll('.js-learn-more').forEach(elem => {\n        //     elem.addEventListener('click', e => {\n        //       const index = Number(e.target.dataset.index);\n        //       console.log(index, drinks[index]);\n        //       showCocktailDetails(drinks[index]);\n        //     });\n        //   });\n        }\n        // else galleryListEl.innerHTML = galleryMarkUp(res.data.drinks); //if full obj we return page \"It is Nothing..\"\n\n    //   }\n      );\n}\n}\n\nexport default hero();\n","'use strict';\n\nimport { galleryMarkUp, addOnLearnMoreClick } from './markup';\nimport { FetchCocktails } from './fetch';\nimport { showCocktailDetails } from './modalcocktails';\nimport { localFavorites } from './localfavorites';\nimport { showCocktailDetails } from './modalcocktails';\n\n\nconst galleryListEl = document.querySelector('.gallery__list');\nconst galleryTitle = document.querySelector('.gallerry__title-main-wrepper');\n\nconst FAV_COCKTAIL_KEY = \"favcockt\";\n\nconst fetchCocktails = new FetchCocktails();\nconst arr = [];\n\nfor (let index = 0; index < 9; index++) {\n  const fetchResult = fetchCocktails.fetchCocktailsRandom().then(data => {\n    if (!data) {\n      return new Promise();\n    }\n    return data;\n  });\n  if (fetchResult) {\n    arr.push(fetchResult);\n  }\n}\n\nPromise.all(arr).then(result => {\n  const drinks = result.flatMap(item => item.data.drinks);\n  const idDrink = drinks.map(drink => drink.idDrink);\n  console.log(idDrink);\n\n  if (window.innerWidth >= 1280) {\n    galleryTitle.innerHTML =  `<h2 class=\"gallery__title\">Cocktails</h2> `;\n    galleryListEl.insertAdjacentHTML('beforeend', galleryMarkUp(drinks));\n  } else if (window.innerWidth < 768) {\n    const mobileDrinks = drinks.slice(0, 3);\n    galleryTitle.innerHTML =  `<h2 class=\"gallery__title\">Cocktails</h2> `;\n    galleryListEl.insertAdjacentHTML('beforeend', galleryMarkUp(mobileDrinks));\n  } else {\n    const tabletDrinks = drinks.slice(0, 6);\n    galleryTitle.innerHTML =  `<h2 class=\"gallery__title\">Cocktails</h2> `;\n    galleryListEl.insertAdjacentHTML('beforeend', galleryMarkUp(tabletDrinks));\n  }\n  addOnLearnMoreClick(drinks);\n\n  \n  const btnAddTo = document.querySelectorAll('.gallery__figcaption--storage');\n  const btnIcon = document.querySelectorAll('.gallery__figcaption--icon');\n\n  isInFavorites(idDrink);\n\n  const toggleAdd = ({ target }) => {\n    if (\n      !target.classList.contains('gallery__figcaption--storage') &&\n      !target.classList.contains('gallery__figcaption--text') &&\n      !target.classList.contains('gallery__figcaption--svg')\n    ) {\n      return;\n    };\n\n    const idBtn = target.closest('.gallery__figcaption--storage').name;\n    const objDrink = drinks.find(el => el.idDrink === idBtn);\n\n\n    if (target.closest('.gallery__figcaption--storage').firstElementChild.textContent === 'Add to') {\n       target.closest('.gallery__figcaption--storage').firstElementChild.textContent = 'Remove';\n      target.closest('.gallery__figcaption--storage').lastElementChild.style.fill = '#fd5103';\n      localFavorites.addLocal(FAV_COCKTAIL_KEY, objDrink)\n    } else {\n      target.closest('.gallery__figcaption--storage').firstElementChild.textContent = 'Add to';\n      target.closest('.gallery__figcaption--storage').lastElementChild.style.fill = 'var(--white-modal-text)';\n      localFavorites.removeLocal(FAV_COCKTAIL_KEY, objDrink);\n    };\n  }\n    \n\n\n\n  //     let currentCocktail = {};\n\n  //     function showCocktail(cocktail) {\n  \n  // const dataCocktail = localFavorites.getLocal('favcock').find(obj => obj.idDrink === cocktail.idDrink);\n  // if(dataCocktail){\n  //   elemRefs.addBtn.classList.add('is-hidden-btn')\n  //     elemRefs.removeBtn.classList.remove('is-hidden-btn')\n  // }else{\n  //   elemRefs.addBtn.classList.remove('is-hidden-btn')\n  //     elemRefs.removeBtn.classList.add('is-hidden-btn')\n  // }\n\n  //     const isInFav = isInFavorites(currentIngredient.idIngredient);\n  //     elemRefs.favoriteBtn.textContent = favoriteText(!isInFav);\n\n    //   if (isInFav) {\n    //     localFavorites.removeLocal(FAV_INGREDIENTS_KEY, currentIngredient);\n    //   } else {\n    //     localFavorites.addLocal(FAV_INGREDIENTS_KEY, currentIngredient);\n    //   }\n\n    //   btnAddTo.textContent = 'Remove';\n    //   btnIcon.style.fill = `#fd5103`;\n    //   booleanBtnAddTo = true;\n    //   return;\n    // } else {\n    //   btnAddTo.textContent = 'Add to';\n    //   btnIcon.style.fill = `#fcfcfc`;\n    //   booleanBtnAddTo = false;\n    //   return;\n    // }\n\n\n\n\n  function isInFavorites(id) {\n  const local = localFavorites.getLocal(FAV_COCKTAIL_KEY);\n  console.log(local);\n  const found = local.find(obj => obj.idDrink === id);\n\n  for (const loc of local) {\n    for (const id of idDrink) {\n      if (loc.idDrink === id) {\n        \n        btnIcon.forEach(el => {\n          if (el.parentElement.name === id) {\n            el.style.fill = `#fd5103`;\n            el.previousElementSibling.textContent = 'Remove';\n            console.log('кнопка закрасилась');\n          }\n        })\n      }\n    }\n  }\n\n  return found !== undefined;\n}\n\n\n\n  galleryListEl.addEventListener('click', toggleAdd);\n});\n\n\n\n// export function handleAddToClick(drinks) {\n//     document.querySelectorAll('.gallery__figcaption--storage').forEach(elem => {\n//       elem.addEventListener('click', e => {\n//         const index = Number(e.target.dataset.index);\n//         console.log(index, drinks[index]);\n//         showCocktailDetails(drinks[index]);\n//       });\n//     });\n// }\n"],"names":["parcelRequire","tableTd","document","querySelector","select","charsItems","i","push","String","fromCharCode","i1","sum","j","length","concat","insertAdjacentHTML","e","innerHTML","addEventListener","ev","classList","remove","target","add","sendRequest","dataset","letter","toLowerCase","fetchCocktails","$5g02X","FetchCocktails","fetchCocktailsByFirstLetter","then","res","data","drinks","$8sS99","renderPagination","$c519d076f6352209$var$hero","$1KhuP","$6756f0db6f988caf$var$galleryListEl","$6756f0db6f988caf$var$galleryTitle","$6756f0db6f988caf$var$FAV_COCKTAIL_KEY","$6756f0db6f988caf$var$fetchCocktails","$6756f0db6f988caf$var$arr","$6756f0db6f988caf$var$index","$6756f0db6f988caf$var$fetchResult","fetchCocktailsRandom","Promise","all","result","flatMap","item","idDrink","map","drink","console","log","window","innerWidth","galleryMarkUp","mobileDrinks","slice","tabletDrinks","addOnLearnMoreClick","querySelectorAll","btnIcon","id1","local","$aL5D8","localFavorites","getLocal","found","find","obj","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","undefined","_step2","loc","_step","value","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step11","id","_step1","forEach","el","parentElement","name","style","fill","previousElementSibling","textContent","_iterator1","Symbol","iterator","next","done","_loop","err","return","_iterator","_loop1","isInFavorites","param","contains","idBtn","closest","objDrink","firstElementChild","lastElementChild","addLocal","removeLocal"],"version":3,"file":"index.f2e06759.js.map"}